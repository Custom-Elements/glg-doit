<link rel="import" href="../node_modules/ui-check/src/ui-check.html">
<link rel="import" href="../node_modules/glg-current-user/src/glg-avatar.html">
<link rel="import" href="../node_modules/ui-markdown/src/ui-markdown.html">
<polymer-element name="glg-task-preview" attributes="task username">
<template>
  <link rel="stylesheet" href="../node_modules/ui-fonts/node_modules/ui-font-awesome/icons.less">
  <link rel="stylesheet" type="text/css" href="./glg-task-preview.less">
  <row spaced padded>
    <column>
      <ui-check value="{{task.done}}" on-click="{{doneTodo}}"></ui-check>
    </column>
    <column fill>
      <ui-markdown value="{{task.what}}">
      </ui-markdown>
      <row centered>
        <template if="{{delegatedOut(task)}}">
          To&nbsp;<glg-avatar username="{{task.delegate}}"></glg-avatar>&nbsp;
        </template>
        <template if="{{delegatedToMe(task)}}">
          For&nbsp;<glg-avatar username="{{task.who}}"></glg-avatar>&nbsp;
        </template>
        <span class="{{due(task.when)}}">{{task.when | relativeDate}}</span>
      </row>
      <template if="{{task.done}}">
        <linefeed></linefeed>
        Done {{task.done | relativeDate}}
      </template>
    </column>
  </row>
</template>
<script src="./glg-task-preview.litcoffee"></script>
</polymer-element>
